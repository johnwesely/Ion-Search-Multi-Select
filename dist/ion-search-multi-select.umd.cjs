(function(c,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("@ionic/vue")):typeof define=="function"&&define.amd?define(["exports","vue","@ionic/vue"],e):(c=typeof globalThis<"u"?globalThis:c||self,e(c["ion-search-multi-select"]={},c.Vue,c.vue$1))})(this,function(c,e,s){"use strict";const w="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close Circle</title><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M320 320L192 192M192 320l128-128' class='ionicon-fill-none ionicon-stroke-width'/></svg>";function I(o,i,r="modelValue"){return e.computed({get:()=>o[r],set:n=>i(`update:${r}`,n)})}const S=(o,i)=>{const r=o.__vccOpts||o;for(const[n,m]of i)r[n]=m;return r},u=e.defineComponent({name:"IonSearchMultiSelect",components:{IonModal:s.IonModal,IonButton:s.IonButton,IonInput:s.IonInput,IonContent:s.IonContent,IonHeader:s.IonHeader,IonTitle:s.IonTitle,IonToolbar:s.IonToolbar,IonItem:s.IonItem,IonLabel:s.IonLabel},props:{optionsProp:Array,modelValue:Array,fieldNameProp:String,spanProp:Boolean},setup(o,{emit:i}){var t;const r=e.toRef(o,"optionsProp").value;let n=I(o,i,"modelValue");const m=e.toRef(o,"fieldNameProp").value,g=(t=e.toRef(o,"spanProp").value)!=null?t:!1;let a=e.ref(!1),f=e.ref(""),k=e.ref(r);const V=()=>{a.value=!1},d=()=>{a.value=!0},C=(l,p)=>p?l.filter(_=>_.toLowerCase().includes(p)):l,N=()=>{k.value=C(r,f.value)},h=l=>{let p=0,_=0;for(;p<n.value.length;){const B=n.value[p];B!=l&&(n.value[_++]=B),p++}n.value.length=_};return{searchQuery:f,filteredOptions:k,options:r,selectedOptions:n,fieldName:m,span:g,isOpen:a,openModal:d,closeModal:V,removeOption:h,toggleSelected:l=>{n.value.includes(l)?h(l):n.value.push(l)},filterOptions:N,closeCircleOutline:w}}}),M={key:0},T={style:{"font-size":"1rem"}},b={key:1},E={key:0};function O(o,i,r,n,m,g){const a=e.resolveComponent("ion-button"),f=e.resolveComponent("ion-title"),k=e.resolveComponent("ion-toolbar"),V=e.resolveComponent("ion-header"),d=e.resolveComponent("ion-item"),C=e.resolveComponent("ion-label"),N=e.resolveComponent("ion-input"),h=e.resolveComponent("ion-content"),y=e.resolveComponent("ion-modal");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",null,[o.span?(e.openBlock(),e.createElementBlock("span",M,[e.createElementVNode("h4",T,e.toDisplayString(o.fieldName),1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.selectedOptions,t=>(e.openBlock(),e.createElementBlock("span",{key:t,style:{position:"relative"}},[e.createVNode(a,{class:"multi-select-button",size:"small",onClick:l=>o.removeOption(t)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t),1)]),_:2},1032,["onClick"])]))),128))])):(e.openBlock(),e.createElementBlock("div",b,[e.createElementVNode("h2",null,e.toDisplayString(o.fieldName),1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.selectedOptions,t=>(e.openBlock(),e.createElementBlock("div",{key:t,style:{position:"relative"}},[e.createVNode(a,{class:"multi-select-button",size:"small",onClick:l=>o.removeOption(t)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t),1)]),_:2},1032,["onClick"])]))),128))])),e.createVNode(a,{color:"secondary",onClick:o.openModal,size:o.span?"small":""},{default:e.withCtx(()=>[e.createTextVNode(" Add More ")]),_:1},8,["onClick","size"])]),e.createVNode(y,{"is-open":o.isOpen,onDidDismiss:o.closeModal},{default:e.withCtx(()=>[e.createVNode(V,null,{default:e.withCtx(()=>[e.createVNode(k,null,{default:e.withCtx(()=>[e.createVNode(f,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.fieldName),1)]),_:1})]),_:1})]),_:1}),e.createVNode(h,null,{default:e.withCtx(()=>[e.createVNode(d,null,{default:e.withCtx(()=>[o.selectedOptions?(e.openBlock(),e.createElementBlock("span",E,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.selectedOptions,t=>(e.openBlock(),e.createBlock(a,{size:"small",onClick:l=>o.toggleSelected(t),key:t},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t),1)]),_:2},1032,["onClick"]))),128))])):e.createCommentVNode("",!0)]),_:1}),e.createVNode(d,null,{default:e.withCtx(()=>[e.createVNode(C,null,{default:e.withCtx(()=>[e.createTextVNode(" Search ")]),_:1}),e.createVNode(N,{modelValue:o.searchQuery,"onUpdate:modelValue":i[0]||(i[0]=t=>o.searchQuery=t),placeholder:"Search",onKeyup:i[1]||(i[1]=t=>o.filterOptions())},null,8,["modelValue"])]),_:1}),e.createVNode(d,null,{default:e.withCtx(()=>[e.createVNode(a,{color:"secondary",onClick:o.closeModal},{default:e.withCtx(()=>[e.createTextVNode("Submit")]),_:1},8,["onClick"])]),_:1}),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.filteredOptions,t=>(e.openBlock(),e.createBlock(d,{key:t,onClick:l=>o.toggleSelected(t),color:o.selectedOptions.includes(t)?"success":""},{default:e.withCtx(()=>[e.createVNode(C,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t),1)]),_:2},1024)]),_:2},1032,["onClick","color"]))),128))]),_:1})]),_:1},8,["is-open","onDidDismiss"])],64)}const D=S(u,[["render",O]]);c.IonSearchMultiSelect=D,Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
